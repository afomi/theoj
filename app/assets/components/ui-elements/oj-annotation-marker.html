<polymer-element name=oj-annotation-marker attributes='annotation'>
  <template>

        <core-icon icon="custom-icons:selected"
                   class="{{annotation.open ? 'open' : 'closed' }} state-{{annotation.state}}"
                   on-click={{annotationClicked}}
                   title={{stripped(annotation.body)}}
        ></core-icon>

      <style>
          core-icon {
            display:      block !important;
            stroke-width: 2px;
            transition:   all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.575);
          }
          core-icon.closed {
            height:       8px;
            width:        8px;
            margin-top:   -4px;
            margin-left:  -4px;
            cursor:       pointer;
          }
          core-icon.closed:hover {
              stroke-width: 3px;
              height:       10px;
              width:        10px;
              margin-top:   -5px;
              margin-left:  -5px;
          }
          core-icon.open {
            height:       16px;
            width:        16px;
            margin-top:   -8px;
            margin-left:  -8px;
            cursor:       default;
          }

    </style>

  </template>

  <script>
    Polymer({

      annotationClicked: function(event, detail) {
        event.preventDefault();
        event.stopPropagation();
        this.annotation.open = true;
      },

      stripped: function(markdown) {
        return stripped_markdown(markdown);
      }

    })
  </script>
</polymer-element>
