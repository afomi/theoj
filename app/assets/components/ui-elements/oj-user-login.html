<polymer-element name="oj-user-login" attributes="currentUser">
  <template>

    <template if={{currentUser}}>
      <a class='link username' href='https://orcid.org/my-orcid' target='_blank' >
          {{currentUser.name}}{{currentUser|roles}}</a>
      <a class='link signout' href='/signout'>Sign Out</a>
    </template>

    <template if={{!currentUser}}>
      <a class='link' href='/auth/orcid'>Sign In</a>
    </template>

    <style>
      a {
        color: #fff;
        font-size: 0.9em;
        font-family: "Helvetica Neue";
        font-weight: 100;
        text-decoration: none;
      }

      a.username {
        font-size: 0.6em;

      }

      a.signout {
          background: #3849a3;
          padding: 8px 12px;
      }

      a.signout:hover {
          background: #4053ba;
      }
    </style>
  </template>

  <script>
    Polymer({

      roles: function(user) {
          if (!user)
            return '';
          else if (user.admin && user.editor)
              return ' (Admin, Editor)';
          else if (user.admin)
            return ' (Admin)';
          else if (user.editor)
            return ' (Editor)';
          else
            return '';
      }

    })
  </script>

</polymer-element>
